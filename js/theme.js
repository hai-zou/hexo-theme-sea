function toggleTheme(e,t){if(!document.startViewTransition)return void setThemeKey(e);const n=t.clientX??innerWidth/2,i=t.clientY??innerHeight/2,s=Math.hypot(Math.max(n,innerWidth-n),Math.max(i,innerHeight-i));document.startViewTransition(()=>{setThemeKey(e)}).ready.then(()=>{const t=[`circle(0 at ${n}px ${i}px)`,`circle(${s}px at ${n}px ${i}px)`],E=e===THEME_MODE_DARK;document.documentElement.animate({clipPath:E?t.reverse():t},{duration:500,easing:"ease-in",pseudoElement:E?"::view-transition-old(root)":"::view-transition-new(root)"})})}function toggleGiscusTheme(e){const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow&&t.contentWindow.postMessage({giscus:{setConfig:{theme:e}}},"https://giscus.app")}function onThemeChange(){const e=document.getElementById("sea-theme-light"),t=document.getElementById("sea-theme-dark");if(!e||!t)return;function n(n){switch(n){case THEME_MODE_LIGHT:e.style.display="none",t.style.display="block";break;case THEME_MODE_DARK:e.style.display="block",t.style.display="none"}}n(getThemeKey()),e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),saveThemeKey(THEME_MODE_LIGHT),n(THEME_MODE_LIGHT),toggleGiscusTheme(THEME_MODE_LIGHT),toggleTheme(THEME_MODE_LIGHT,e)}),t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),saveThemeKey(THEME_MODE_DARK),n(THEME_MODE_DARK),toggleGiscusTheme(THEME_MODE_DARK),toggleTheme(THEME_MODE_DARK,e)});const i=window.matchMedia("(prefers-color-scheme: dark)");i.addEventListener("change",()=>{i.matches?(saveThemeKey(THEME_MODE_DARK),n(THEME_MODE_DARK),toggleGiscusTheme(THEME_MODE_DARK),setThemeKey(THEME_MODE_DARK)):(saveThemeKey(THEME_MODE_LIGHT),n(THEME_MODE_LIGHT),toggleGiscusTheme(THEME_MODE_LIGHT),setThemeKey(THEME_MODE_LIGHT))})}onThemeChange();